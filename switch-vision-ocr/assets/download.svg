<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="360" viewBox="0 0 1200 360" role="img" aria-label="OCR pipeline diagram">
  <defs>
    <style>
      .bg { fill: #0b0f16; }
      .card { fill: #121a26; stroke: #2b3a55; stroke-width: 2; rx: 18; ry: 18; }
      .title { fill: #e6edf3; font: 700 20px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
      .text { fill: #c9d1d9; font: 500 16px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
      .hint { fill: #9fb3c8; font: 500 14px ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; }
      .pill { fill: #0f243d; stroke: #2b3a55; stroke-width: 2; rx: 999; ry: 999; }
      .pillText { fill: #dbe7f3; font: 700 14px ui-sans-serif, system-ui; letter-spacing: 0.2px; }
      .arrow { stroke: #6ea8fe; stroke-width: 3.5; fill: none; marker-end: url(#mEnd); }
      .subArrow { stroke: #4c7bd9; stroke-width: 2.5; fill: none; marker-end: url(#mEndThin); opacity: 0.95; }
    </style>

    <marker id="mEnd" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 Z" fill="#6ea8fe"></path>
    </marker>
    <marker id="mEndThin" markerWidth="10" markerHeight="10" refX="8.5" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#4c7bd9"></path>
    </marker>

    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="8" stdDeviation="10" flood-color="#000" flood-opacity="0.35"></feDropShadow>
    </filter>
  </defs>

  <rect class="bg" x="0" y="0" width="1200" height="360"></rect>

  <!-- Header -->
  <text class="title" x="52" y="58">SwitchVision OCR — End-to-end Pipeline</text>
  <text class="hint" x="52" y="84">OpenCV preprocessing → EAST text detection → ROI extraction → Tesseract recognition → post-processing</text>

  <!-- Step cards -->
  <!-- 1: Input -->
  <g filter="url(#shadow)">
    <rect class="card" x="50" y="120" width="215" height="170"></rect>
    <text class="title" x="70" y="155">1) Input</text>
    <text class="text" x="70" y="182">Image / Video</text>
    <text class="hint" x="70" y="210">assets/...</text>
    <rect class="pill" x="70" y="235" width="150" height="30"></rect>
    <text class="pillText" x="92" y="256">Frames</text>
  </g>

  <!-- 2: Preprocess -->
  <g filter="url(#shadow)">
    <rect class="card" x="310" y="120" width="250" height="170"></rect>
    <text class="title" x="330" y="155">2) Preprocess</text>
    <text class="text" x="330" y="182">Resize • Denoise</text>
    <text class="text" x="330" y="206">Gray/Blur • Contrast</text>
    <text class="hint" x="330" y="232">OpenCV</text>
    <rect class="pill" x="330" y="240" width="190" height="30"></rect>
    <text class="pillText" x="352" y="261">Normalized frame</text>
  </g>

  <!-- 3: Detect -->
  <g filter="url(#shadow)">
    <rect class="card" x="605" y="120" width="260" height="170"></rect>
    <text class="title" x="625" y="155">3) Text Detection</text>
    <text class="text" x="625" y="182">EAST model</text>
    <text class="text" x="625" y="206">Boxes + scores</text>
    <text class="hint" x="625" y="232">NMS filtering</text>
    <rect class="pill" x="625" y="240" width="210" height="30"></rect>
    <text class="pillText" x="648" y="261">Candidate ROIs</text>
  </g>

  <!-- 4: Recognize -->
  <g filter="url(#shadow)">
    <rect class="card" x="910" y="120" width="240" height="170"></rect>
    <text class="title" x="930" y="155">4) OCR</text>
    <text class="text" x="930" y="182">Crop + deskew</text>
    <text class="text" x="930" y="206">Tesseract</text>
    <text class="hint" x="930" y="232">Confidence + text</text>
    <rect class="pill" x="930" y="240" width="185" height="30"></rect>
    <text class="pillText" x="952" y="261">Recognized text</text>
  </g>

  <!-- Arrows between main steps -->
  <path class="arrow" d="M265 205 C285 205, 290 205, 310 205"></path>
  <path class="arrow" d="M560 205 C582 205, 585 205, 605 205"></path>
  <path class="arrow" d="M865 205 C888 205, 890 205, 910 205"></path>

  <!-- Post-processing (optional) -->
  <g>
    <path class="subArrow" d="M1030 290 C1030 320, 650 320, 650 292"></path>
    <text class="hint" x="705" y="342">Optional: regex cleanup • label mapping • temporal smoothing (video)</text>
  </g>

  <!-- Footer note -->
  <text class="hint" x="52" y="330">Outputs: annotated frames, detected boxes, cropped ROI images, OCR text logs</text>
</svg>
